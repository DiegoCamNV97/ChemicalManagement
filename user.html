<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>ChemicalManagement - User</title>
    <!--CSS-->
    <link rel="stylesheet" href="./FrontEnd/Library/libraryCSS/bootstrap.css"/>
    <link rel="stylesheet" href="./FrontEnd/Library/styleUser.css"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!--Header-->
    <nav class="navbar navbar-expand-lg navbar-light">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">
                <img src="./FrontEnd/IMG/logo.png" alt="Logo">
            </a>
            <span class="navbar-brand-centered">ChemicalManagement™</span>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <img src="./FrontEnd/IMG/userLogo.png" alt="Avatar" class="avatar">
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
                            <li><a class="dropdown-item" id="cerrarSesion">Cerrar sesión</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <!--Menú-->
    <div class="row">
        <div class="col-1"></div>
        <div class="col-10 mt-3 mb-3">
            <div class="card">
                <div class="card-header bg-dark text-white">Panel de Control</div>
                <div class="card-body">
                    <ul class="nav nav-tabs">
                        <li class="nav-item">
                            <a class="nav-link active" data-bs-toggle="tab" href="#search">Buscador</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="tab" href="#alertas">Alertas</a>
                        <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="tab" href="#fabricantes">Fabricantes</a>
                        </li>
                            <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="tab" href="#nuevoR">Nuevo Reactivo</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="tab" href="#nuevoFabricante">Nuevo Fabricante</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="tab" href="#trazabilidad">Trazabilidad de Reactivos</a>
                        </li>
                    </ul>
                    <!--contenido-->
                    <div class="h-100">
                        <div class="tab-content">
                            <div class="tab-pane container active p-5" id="search">
                                <form class="d-flex">
                                    <input class="form-control me-2" type="text" placeholder="Nombre o CAS del Reactivo" id="buscarReactivo">
                                    <button class="btn btn-primary" type="button" id="buscarReactivobtn">Buscar</button>
                                </form>
                                <div class="container">
                                    <div class="row">
                                        <div class="col-12">
                                            <div class="table-responsive">
                                                <!---->
                                                <table class="table table-hover" id="reactivosTable">
                                                    <thead>
                                                      <tr>
                                                        <th>ID</th>
                                                        <th>Código Interno</th>
                                                        <th>Nombre</th>
                                                        <th>CAS</th>
                                                        <th>Fabricante</th>
                                                        <th>Presentación</th>
                                                        <th>Unidad de Medida</th>
                                                        <th>Lote</th>
                                                        <th>Fecha de Fabricación</th>
                                                        <th>Fecha de Vencimiento</th>
                                                        <th>Existencia</th>
                                                        <th>Fórmula</th>
                                                        <th>Palabra de Advertencia</th>
                                                        <th>Pictogramas SGA</th>
                                                        <th>Frases H</th>
                                                        <th>Frases P</th>
                                                        <th>Ficha de Datos de Seguridad</th>
                                                        <th>Vigencia FDS</th>
                                                        <th>Opciones</th>
                                                      </tr>
                                                    </thead>
                                                    <tbody id="reactivosTableBody">
                                                      <!-- Las filas se llenarán dinámicamente desde JavaScript -->
                                                    </tbody>
                                                  </table>                                                  
                                                <!---->
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--Fabricantes-->
                            <div class="tab-pane fade p-5" id="fabricantes" role="tabpanel">
                                <form class="d-flex mb-3">
                                    <input class="form-control me-2" type="text" placeholder="Nombre del Fabricante" id="buscarFabricante">
                                    <button class="btn btn-primary" type="button" id="buscarFabricantebtn">Buscar</button>
                                </form>
                                <div class="table-responsive">
                                    <table class="table table-hover">
                                        <thead>
                                            <tr>
                                                <th>ID</th>
                                                <th>Nombre</th>
                                                <th>Número de Contacto</th>
                                                <th>Dirección</th>
                                                <th>País</th>
                                                <th>Número de Emergencia</th>
                                                <th>Opciones</th>
                                            </tr>
                                        </thead>
                                        <tbody id="fabricantesTableBody">
                                            <!-- Las filas se llenarán dinámicamente desde JavaScript -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>                            
                            <!--Alertas-->
                            <div class="tab-pane container p-1" id="alertas">
                                <ul class="nav nav-tabs" id="alertasTabs" role="tablist">
                                    <li class="nav-item">
                                        <a class="nav-link active" id="por-vencer-tab" data-bs-toggle="tab" href="#por-vencer" role="tab">Por Vencer</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" id="vencidos-tab" data-bs-toggle="tab" href="#vencidos" role="tab">Vencidos</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" id="poco-stock-tab" data-bs-toggle="tab" href="#poco-stock" role="tab">Poco Stock</a>
                                    </li>
                                </ul>
                                <div class="tab-content" id="alertasTabsContent">
                                    <div class="tab-pane fade show active" id="por-vencer" role="tabpanel">
                                        <h5>Reactivos por Vencer</h5>
                                        <table class="table table-hover">
                                            <thead>
                                                <tr>
                                                    <th>ID</th>
                                                    <th>Nombre</th>
                                                    <th>Fabricante</th>
                                                    <th>Fecha de Vencimiento</th>
                                                </tr>
                                            </thead>
                                            <tbody id="reactivosPorVencerTableBody"></tbody>
                                        </table>
                                    </div>
                                    <div class="tab-pane fade" id="vencidos" role="tabpanel">
                                        <h5>Reactivos Vencidos</h5>
                                        <table class="table table-hover">
                                            <thead>
                                                <tr>
                                                    <th>ID</th>
                                                    <th>Nombre</th>
                                                    <th>Fabricante</th>
                                                    <th>Fecha de Vencimiento</th>
                                                </tr>
                                            </thead>
                                            <tbody id="reactivosVencidosTableBody"></tbody>
                                        </table>
                                    </div>
                                    <div class="tab-pane fade" id="poco-stock" role="tabpanel">
                                        <h5>Reactivos con Poco Stock</h5>
                                        <table class="table table-hover">
                                            <thead>
                                                <tr>
                                                    <th>ID</th>
                                                    <th>Nombre</th>
                                                    <th>Fabricante</th>
                                                    <th>Existencia</th>
                                                </tr>
                                            </thead>
                                            <tbody id="reactivosPocoStockTableBody"></tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <!--Nuevo Fabricante-->                            
                            <!-- Pestaña "Nuevo Fabricante" -->
                            <div class="tab-pane container p-5" id="nuevoFabricante">
                                <h2>Registrar Nuevo Fabricante</h2>
                                <form id="formNuevoFabricante" class="mt-4">
                                    <div class="mb-3">
                                        <label for="nombreFabricante" class="form-label">Nombre del Fabricante</label>
                                        <input type="text" class="form-control" id="nombreFabricante" placeholder="Ingrese el nombre del fabricante" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="numContacto" class="form-label">Número de Contacto</label>
                                        <input type="text" class="form-control" id="numContacto" placeholder="Ingrese el número de contacto" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="direccion" class="form-label">Dirección</label>
                                        <input type="text" class="form-control" id="direccion" placeholder="Ingrese la dirección" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="pais" class="form-label">País</label>
                                        <input type="text" class="form-control" id="pais" placeholder="Ingrese el país" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="numeroEmergencia" class="form-label">Número de Emergencia</label>
                                        <input type="text" class="form-control" id="numeroEmergencia" placeholder="Ingrese el número de emergencia" required>
                                    </div>
                                    <button type="button" id="guardarFabricante" class="btn btn-success">Guardar</button>
                                </form>
                            </div>                            
                            <!--Nuevo Reactivo-->
                            <div class="tab-pane container fade mt-2" id="nuevoR">
                                <form action="" id="nuevoReactivo">
                                    <!--Nombres-->
                                    <div>
                                        <label for="nombre" class="form-label mt-2">Nombre del Reactivo</label>
                                        <input
                                            type="text"
                                            class="form-control"
                                            name="nombre"
                                            id="nombreReactivo"
                                            required
                                        />
                                    </div>
                                    <!--Código-->
                                    <div class="bm-3 mt-3">
                                        <label for="codigo" class="form-label">Código Interno Asignado</label>
                                        <input
                                            type="text"
                                            class="form-control"
                                            name="codigo"
                                            id="qr"
                                            required
                                        />
                                    </div>
                                    <!--Ubicación-->
                                    <div>
                                        <label for="ubicacion" class="form-label mt-2">Ubicación del Reactivo</label>
                                        <select
                                            class="form-control"
                                            name="ubicacion"
                                            id="ubicacion"
                                            required
                                        >
                                            <option value="">Seleccione una Ubicación</option>
                                            <option value="Ubicación 1">Ubicación 1</option>
                                            <option value="Ubicación 2">Ubicación 2</option>
                                            <option value="Ubicación 3">Ubicación 3</option>
                                            <option value="Ubicación 4">Ubicación 4</option>
                                            <option value="Ubicación 5">Ubicación 5</option>
                                        </select>
                                    </div>
                                    <!--Fabricante (Empresa)-->
                                    <div class="bm-3 mt-3">
                                        <label for="fabricante" class="form-label">Fabricante:</label>
                                        <select
                                            class="form-control"
                                            name="fabricante"
                                            id="fabricante"
                                            required
                                        >
                                            <option value="">Seleccione un Fabricante</option>
                                            <!-- Las opciones se cargarán dinámicamente -->
                                        </select>
                                    </div>                                    
                                    <!--Presentación-->
                                        <!--Cantidad-->
                                    <div class="bm-3 mt-3">
                                        <label for="presentacion" class="form-label">Presentación</label>
                                        <input
                                            type="number"
                                            class="form-control"
                                            name="presentacion"
                                            id="presentacion"
                                            required
                                        />
                                    </div>
                                        <!--Unidad de Medida-->
                                    <div class="bm-3 mt-3">
                                        <label for="unidad" class="form-label">Unidad de Medida</label>
                                        <select
                                            class="form-control"
                                            name="unidad"
                                            id="unidadMedida"
                                            required
                                        >
                                            <option value="">Seleccione una Unidad de Medida</option>
                                            <option value="L">L (Litros)</option>
                                            <option value="mL">mL (Mililitros)</option>
                                            <option value="uL">uL (Microlitros)</option>
                                            <option value="kg">kg (Kilogramos)</option>
                                            <option value="g">g (Gramos)</option>
                                            <option value="mg">mg (Miligramos</option>
                                        </select>
                                    </div>
                                    <!--Lote-->
                                    <div class="bm-3 mt-3">
                                        <label for="lote" class="form-label">Lote</label>
                                        <input
                                            type="text"
                                            class="form-control"
                                            name="lote"
                                            id="lote"
                                            required
                                        />
                                    </div>
                                    <!--Fecha de Fabricación-->
                                    <div class="bm-3 mt-3">
                                        <label for="fF" class="form-label">Fecha de Fabricación</label>
                                        <input
                                            type="date"
                                            class="form-control"
                                            name="fF"
                                            id="fechaFabricacion"
                                            required
                                        />
                                    </div>
                                    <!--Fecha de Vencimiento-->
                                    <div class="bm-3 mt-3">
                                        <label for="fV" class="form-label">Fecha de Vencimiento</label>
                                        <input
                                            type="date"
                                            class="form-control"
                                            name="fV"
                                            id="fechaVencimiento"
                                            required
                                        />
                                    </div>
                                    <!--Existencia-->
                                    <div class="bm-3 mt-3">
                                        <label for="existencia" class="form-label">Existencia (de ser nuevo ponga 100)</label>
                                        <input
                                            type="number"
                                            class="form-control"
                                            name="existencia"
                                            id="existencia"
                                            required
                                        />
                                    </div> 
                                    <!--Número CAS-->
                                    <div class="bm-3 mt-3">
                                        <label for="cas" class="form-label">CAS</label>
                                        <input
                                            type="text"
                                            class="form-control"
                                            name="cas"
                                            id="cas"
                                            required
                                        />
                                    </div>
                                    <!--Formula Química-->
                                    <div class="bm-3 mt-3">
                                        <label for="formula" class="form-label">Formula Química</label>
                                        <input
                                            type="text"
                                            class="form-control"
                                            name="formula"
                                            id="formula"
                                            required
                                        />
                                    </div>
                                    <!--Palabra Advertencia-->
                                    <div class="bm-3 mt-3">
                                        <label for="palabraAdvertencia" class="form-label">Palabra de Advertencia</label>
                                        <select
                                            class="form-control"
                                            name="palabraAdvertencia"
                                            id="palabraAdvertencia"
                                            required
                                        >
                                            <option value="">Seleccione la Palabra de Advertencia</option>
                                            <option value="Atención">Atención</option>
                                            <option value="Peligr">Peligro</option>
                                            <option value="No Aplica">No Aplica</option>
                                        </select>
                                    </div>
                                    <!--Pictogramas-->
                                    <div class="row mt-2">
                                        <div class="col p-2">
                                            <label class="form-label">Pictogramas de Seguridad: <br> <small>Seleccione los correspondientes.</small> </label>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col border border-1">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" id="check1" value="GHS-01">
                                                <label class="form-check-label">GHS-01</label>
                                                <img src="./FrontEnd/IMG/pictogramasSGA/GHS01.png" class="img"/>
                                            </div>
                                        </div>
                                        <div class="col border border-1">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" id="check2" value="GHS-02">
                                                <label class="form-check-label">GHS-02</label>
                                                <img src="./FrontEnd/IMG/pictogramasSGA/GHS02.png" class="img"/>
                                            </div>
                                        </div>
                                        <div class="col border border-1">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" id="check3" value="GHS-03">
                                                <label class="form-check-label">GHS-03</label>
                                                <img src="./FrontEnd/IMG/pictogramasSGA/GHS03.png" class="img"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col border border-1">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" id="check4" value="GHS-04">
                                                <label class="form-check-label">GHS-04</label>
                                                <img src="./FrontEnd/IMG/pictogramasSGA/GHS04.png" class="img"/>
                                            </div>
                                        </div>
                                        <div class="col border border-1">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" id="check5" value="GHS-05">
                                                <label class="form-check-label">GHS-05</label>
                                                <img src="./FrontEnd/IMG/pictogramasSGA/GHS05.png" class="img"/>
                                            </div>
                                        </div>
                                        <div class="col border border-1">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" id="check6" value="GHS-06">
                                                <label class="form-check-label">GHS-06</label>
                                                <img src="./FrontEnd/IMG/pictogramasSGA/GHS06.png" class="img"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col border border-1">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" id="check7" value="GHS-07">
                                                <label class="form-check-label">GHS-07</label>
                                                <img src="./FrontEnd/IMG/pictogramasSGA/GHS07.png" class="img"/>
                                            </div>
                                        </div>
                                        <div class="col border border-1">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" id="check8" value="GHS-08">
                                                <label class="form-check-label">GHS-08</label>
                                                <img src="./FrontEnd/IMG/pictogramasSGA/GHS08.png" class="img"/>
                                            </div>
                                        </div>
                                        <div class="col border border-1">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" id="check9" value="GHS-09">
                                                <label class="form-check-label">GHS-09</label>
                                                <img src="./FrontEnd/IMG/pictogramasSGA/GHS09.png" class="img"/>
                                            </div>
                                        </div>
                                    </div>
                                    <!--Frases H y Frases P-->
                                    <div class="mt-3">
                                        <label for="form-control">Frases H:</label>
                                    </div>
                                    <div class="form-floating mt-2">
                                        <textarea class="form-control" id="frasesH" name="text" placeholder="Frases H"></textarea>
                                        <label for="frasesH">Indique las Frases H separadas por un (;)</label>
                                    </div>
                                    <!---->
                                    <div class="mt-3">
                                        <label for="form-control">Frases P:</label>
                                    </div>
                                    <div class="form-floating mt-2">
                                        <textarea class="form-control" id="frasesP" name="text" placeholder="Frases P"></textarea>
                                        <label for="frasesP">Indique las Frases P separadas por un (;)</label>
                                    </div>
                                    <!--FDS-->
                                    <div class="bm-3 mt-3">
                                        <label for="fichaDatosSeguridad" class="form-label">¿Tiene la FDS del reactivo?</label>
                                        <select
                                            class="form-control"
                                            name="fichaDatosSeguridad"
                                            id="fichaDatosSeguridad"
                                            required
                                        >
                                            <option value="Si">Si</option>
                                            <option value="No">No</option>
                                        </select>
                                    </div>
                                    <!--Fecha de FDS-->
                                    <div class="bm-3 mt-3">
                                        <label for="fFDS" class="form-label">Fecha de FDS (última Revisión)</label>
                                        <input
                                            type="date"
                                            class="form-control"
                                            name="fFDS"
                                            id="vigenciaFDS"
                                            required
                                        />
                                    </div>
                                    <!--Botones de Guardar o Cancelar-->
                                    <div class="mt-2">
                                        <button class="btn btn-success" id="guardarNR">Guardar</button>
                                        <button class="btn btn-secondary" id="cancelarNR">Cancelar</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                    <!--Trazabilidad-->
                    <div class="tab-pane container fade" id="trazabilidad">
                        <div class="tab-pane container active p-5" id="search">
                            <h1 class="m-5">En Construcción</h1>
                            <form class="d-flex">
                                <input class="form-control me-2" type="text" placeholder="Buscar por Reactivo o Usuario">
                                <button class="btn btn-primary" type="button" id="buscarT">Search</button>
                            </form>
                        </div>
                        <div class="float-right">
                            <!-- Icono de impresión -->
                            <button class="btn btn-outline-primary" id="print">
                                <i class="fas fa-print"></i> Imprimir
                            </button>
                        
                            <!-- Icono de descarga de PDF -->
                            <button class="btn btn-outline-success" id="pdf">
                                <i class="fas fa-file-pdf"></i> Descargar PDF
                            </button>
                        </div>
                        <div class="container">
                            <div class="row">
                                <div class="col-12">
                                    <div class="table-responsive">
                                        <table class="table table-hover" id="trazabilidadUso">
                                            <thead>
                                                <tr>
                                                    <th>iD Reactivo</th>
                                                    <th>Nombre</th>
                                                    <th>Cantidad Utilizada</th>
                                                    <th>Unidad de Medida</th>
                                                    <th>Usuario Responsable</th>
                                                </tr>
                                            </thead>
                                            <tbody id="trazabilidadUsoBody">
                                                <!-- Las filas se llenarán dinámicamente desde JavaScript -->
                                              </tbody>
                                          </table> 
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>            
        <div class="card-footer bg-dark text-white">
            <small>Todos los derechos reservados ©2024 - ChemicalManagement™</small>
        </div>
        <div class="col-1"></div>
    </div>

    <!--JAVA-SCRIPT-->
    <script>
        const API_BASE_URL = "http://localhost:8080/api";
    </script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="./FrontEnd/Library/libraryJS/bootstrap.min.js"></script>
    <script src="./FrontEnd/Library/libraryJS/bootstrap.bundle.min.js"></script>
    <script src="./FrontEnd/JavaScript/user/buscadorReactivos.js"></script>
    <script src="./FrontEnd/JavaScript/user/buscadorFabricantes.js"></script>
    <script src="./FrontEnd/JavaScript/user/alertas.js"></script>
    <script src="./FrontEnd/JavaScript/user/nuevoReactivo.js"></script>
    <script src="./FrontEnd/JavaScript/user/nuevoFabricante.js"></script>
    <script>
        document.getElementById("cerrarSesion").addEventListener("click", function () {
            // Redirigir a login.html
            window.location.href = "login.html";
        });
    </script>
</body>
</html>